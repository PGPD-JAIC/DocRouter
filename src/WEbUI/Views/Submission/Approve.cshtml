@using DocRouter.Application.Common.Models;
@using DocRouter.Application.Submissions.Queries.GetApproveTransactionDetail
@model ApproveTransactionCommand
<div>
    <h2>Approve Submission</h2>
    <a href="@ViewBag.ReturnUrl"><i class="fa fa-chevron-left"></i> Back</a>
    <hr />
    <form method="post" asp-controller="Submission" asp-action="Approve" asp-route-returnUrl="@ViewBag.ReturnUrl">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input asp-for="SubmissionId" type="hidden" />
        <input asp-for="TransactionId" type="hidden" />
        <input asp-for="SubmissionTitle" type="hidden" />
        <input asp-for="CurrentRoutedTo" type="hidden" />
        <input asp-for="ExistingComments" type="hidden" />
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="SubmissionTitle">Title</label><br />
                <strong>@Model.SubmissionTitle</strong>
            </div>
            <div class="form-group col-md-6">
                <label for="CurrentRoutedTo">Currently Routed To</label><br />
                <strong>@Model.CurrentRoutedTo</strong>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="ExistingComments">Current Comments</label><br />
                <p style="font-weight:bold">@Model.ExistingComments</p>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="Recepient">Send To</label>
                <select asp-for="Recepient" class="form-control" asp-items="@(new SelectList((List<DirectoryUser>)ViewBag.Users, "Email", "Name"))">
                    <option value="">Select User</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="NewComments">Comments</label>
                <textarea asp-for="NewComments" rows="5" cols="40" class="form-control"></textarea>
                <span asp-validation-for="NewComments" class="text-danger"></span>
            </div>
        </div>
        <hr />
        <div class="form-group" id="submitGroup">
            <button type="submit" id="submitButton" class="btn btn-success" value="Upload"><i class="fa fa-floppy-o" aria-hidden="true"></i> Submit Approval</button>
            <a href="@ViewBag.ReturnUrl" class="btn btn-danger">Cancel</a>
        </div>
    </form>
</div>